#### 	Openbox autostart file
####
####	~/.config/openbox/autostart

# redirect stderr / stdout
exec 3>&1 4>&2 >"/home/$USER/.config/openbox/autostart.log" 2>&1


# setup some useful variables for this script
	SCRIPTS_DIR="/scripts";


# Desktop & DE
	/scripts/pcmanfm_toggle_desktop_icons.sh setup & 
		#xfdesktop & 
		#caja -n
	tint2 -c ~/.config/tint2/sidebar.tint2rc &
	nm-applet &
		# connman-ui-gtk &
	lxsession & 
	opensnap --daemon & 	
	# Guake, à la fin
	guake &


# color calibration : ICC profile for internal screen
	xcalib ~/.icc_profile_hpElitebookFolio9470mHDMattTypeUnknown.icm & 	


# BRIGHTNESS
	xbacklight =15 & 
	#redshift -l 46:7 -t 6500:5500 -b 1:0.92 & 
	
	
# Volume control wrapper for pulseaudio
	## Init alsamixer (On, 100%)
	amixer set Master on & 
	amixer -D pulse sset Master 100% & 
	## Init pulseaudio (On, 30%)
	/scripts/pavuctl reset & 
	

## now handled in xorg.conf
# screen refresh rate downclock + powersave 	
# pas très elegant 
	# xrandr -r 40 &
	# xset +dpms &
	# xset dpms 0 0 0 &


# switch to external display if connected
	$SCRIPTS_DIR/autoSwitchToExtDisplay &


# setup the horizontal scroll status (on/off)
	/scripts/fingerscroll_toggle.sh setup & 
	
	
# setup middle click emulation for logitech usb mouse 
# cf. http://unix.stackexchange.com/questions/9973/configuring-mouse-for-rightleft-button-simulating-middle-click-for-copy-paste
	xinput set-prop 'pointer:Logitech USB Receiver' "libinput Middle Emulation Enabled" 1 & 

	
# SSH stuff
	sleep 1s ;
	ssh-add /home/quentin/.ssh/id_rsa & 

	
# powertop auto-tune - à la fin
# Freezes everything. Use a systemd service instead
	#sleep 10s;
	#sudo powertop --auto-tune &
	# alternative to --auto-tune : ensures 'good' tunable for enp0s25, which is 'bad' without --auto-tune
	#ethtool -s enp0s25 wol d;


