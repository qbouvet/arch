Ran 1-mksdcard.sh (only)

    $ pacman-key --init
    $ pacman-key --populate archlinuxarm
    $ pacman -S ncdu
    Clear initial packages (15M)
        $ pacman -Rsn jfsutils dialog reiserfsprogs vi pciutils lvm2 xfsprogs
        $ pacman -Scc
    Wipe journal before leaving
        $ rm -f /var/log/journal/0ddaf1d928724078bba14837fca431df/*.journal
    Interesting link : https://unix.stackexchange.com/questions/2027/how-do-i-minimize-disk-space-usage

PI0_img0.iso

    puring locales (65M)
        $ sed -i 's/#en_US.UTF-8 UTF-8/en_US.UTF-8 UTF-8/' /etc/locale.gen;
        $ locale-gen
        $ cd /usr/share/locale && rm -rf $(ls | grep -Ev "en_US|alias")

PI0_img1.iso

    remove manpages / documentation (NB : They will be recreated when installing packages)
        $ rm -rf /usr/share/doc/
        $ rm -rf /usr/share/man/

    (50M) purge firmware files
        $ cd /usr/lib/firmware
        $ rm -rf amd amdgpu amd-ucode intel i915 radeon nvidia
    
    (+133M) Install some packages that will be necessary in all cases
        $ pacman -S sudo htop python 

    (60M) Remove test directory from python install 
        $ rm -r /usr/lib/python3.7/test
    
    Clear and exit
        $ pacman -Scc
        $ rm -rf /usr/share/doc/
        $ rm -rf /usr/share/man/
        $ rm -f /var/log/journal/0ddaf1d928724078bba14837fca431df/*.journal
        $ cd /usr/lib/firmware && rm -r amd amdgpu amd-ucode intel i915 radeon nvidia netronome
        
PI0_img2.iso

    (100M) purge firmware files
        $ cd /usr/lib/firmware
        $ rm -rf netronome
    
    (+10M) $ pacman -Syu

    set journal size 
        $ journalctl --rotate; journalctl --vacuum-size=100M
        $ sed 's:#SystemMaxUse=:SystemMaxUse=100M:g' -i /etc/systemd/journald.conf
    
    Clear and exit
        $ yes | pacman -Scc
        $ rm -rf /usr/share/doc/
        $ rm -rf /usr/share/man/
        $ rm -f /var/log/journal/0ddaf1d928724078bba14837fca431df/*.journal
        $ cd /usr/lib/firmware && rm -r amd amdgpu amd-ucode intel i915 radeon nvidia netronome
    
-> free : 807M
PI0_img3.iso

    (103M) purge firmware files
        $ rm -r liquidio ath10k ath6k qed mrvl ti-connectivity mellanox mediatek ueagle-atm qcom bnx2x bnx2 dpaa2 cxgb4

    Clear and exit
        $ yes | pacman -Scc
        $ rm -rf /usr/share/man /usr/share/doc /usr/share/info
        $ cd /usr/lib/firmware && rm -r amd amdgpu amd-ucode intel i915 radeon nvidia netronome liquidio ath10k ath6k qed mrvl ti-connectivity mellanox mediatek ueagle-atm qcom bnx2x bnx2 dpaa2 cxgb4
        $ rm -r /var/log/journal/*

-> free : 908M
PI0_img4.iso

    Adding watchbot application
        copy /opt/watchbot
        Necessary packages to build packages (i.e. python-picamera for example) with ugly_aur_install()
            $ pacman -S binutils fakeroot 
        Necessary dependancies of watchbot
            $ source /install/0-config.sh  
            $ pacman -S python-tornado 
            $ ugly_aur_install https://aur.archlinux.org/cgit/aur.git/snapshot/python-picamera.tar.gz
            (+55M) telegram 
                $ pacman -S git python-setuptools
                $ pacman -S python-future python-certifi python-cryptography
                $ ugly_aur_install https://aur.archlinux.org/cgit/aur.git/snapshot/python-telegram-bot-git.tar.gz
            -> after that, aurman dependancies are only 5M more, so might as well get it
                $ pacman -S git expac python-requests pyalpm python-regex  python-dateutil python-feedparser
                ugly_aur_install https://aur.archlinux.org/cgit/aur.git/snapshot/aurman.tar.gz --skippgpcheck
            $ pacman -S patch
            (+100M) $ pacman -S gcc
            $ ugly_aur_install https://aur.archlinux.org/cgit/aur.git/snapshot/python-raspberry-gpio.tar.gz

    Clear and exit
        $ yes | pacman -Scc
        $ rm -rf /usr/share/man /usr/share/doc /usr/share/info
        $ cd /usr/lib/firmware && rm -r amd amdgpu amd-ucode intel i915 radeon nvidia netronome liquidio ath10k ath6k qed mrvl ti-connectivity mellanox mediatek ueagle-atm qcom bnx2x bnx2 dpaa2 cxgb4
        $ rm -r /var/log/journal/*

-> free : 722M
PI0_img5.iso

    $ pacman -Rsn gcc
    
    /install/2-setup-system.sh

    purge locales again (35M)
        $ sed -i 's/#en_US.UTF-8 UTF-8/en_US.UTF-8 UTF-8/' /etc/locale.gen;
        $ locale-gen
        $ cd /usr/share/locale && rm -rf $(ls | grep -Ev "en_US|alias")
    
    $ reboot
    
    /install/3-setup-user.sh

    set journal size 
        $ journalctl --rotate; journalctl --vacuum-size=240M
        $ sed 's:#*SystemMaxUse=[0-9]\+M*.*:SystemMaxUse=240M:g' -i /etc/systemd/journald.conf
        
    
    Clear and exit
        $ yes | pacman -Scc
        $ rm -rf /usr/share/man /usr/share/doc /usr/share/info
        $ cd /usr/lib/firmware && rm -r amd amdgpu amd-ucode intel i915 radeon nvidia netronome liquidio ath10k ath6k qed mrvl ti-connectivity mellanox mediatek ueagle-atm qcom bnx2x bnx2 dpaa2 cxgb4
        $ rm -r /var/log/journal/*

-> free : 855M
PI0_img_watchbot_SD2G.iso (on HDD)

    configure static ip (cf PI3 notes)
    
    Clear and exit
        $ yes | pacman -Scc
        $ rm -rf /usr/share/man /usr/share/doc /usr/share/info
        $ cd /usr/lib/firmware && rm -r amd amdgpu amd-ucode intel i915 radeon nvidia netronome liquidio ath10k ath6k qed mrvl ti-connectivity mellanox mediatek ueagle-atm qcom bnx2x bnx2 dpaa2 cxgb4
        $ rm -r /var/log/journal/*

-> free : 852M
PI0_arc+staticIP201+watchbot_SD2G.iso (on HDD)

    Configured camera : https://archlinuxarm.org/platforms/armv6/raspberry-pi

-> free : 846M



TODO : 
    
    Save some M by using a 50-60M boot partition
    
    Strip binaries
        https://docstore.mik.ua/orelly/unix/upt/ch24_14.htm 
            find . -type f -perm -0001 ! -perm -4000 ! -perm -2000
        find . | xargs file | grep "executable" | grep ELF | cut -f 1 -d : | xargs strip --strip-unneeded 2> /dev/null
    
    Stuff that will prevent compiling on the machine (i.e. no AUR)
        Strip shared objects
            find . | xargs file | grep "shared object" | grep ELF | cut -f 1 -d : | xargs strip --strip-unneeded 2> /dev/null
        OR : Remove shared objects in /usr/lib
        removing everything in /usr/include
    
    Stuff that may break stuff
        remove libgo (/usr/lib/libgo* ?)
        remove .pyo (python optimized) files, appearently unused 
            $ cd /usr/lib/python3.6 && find . -name "*.pyo" -exec rm -v {} \;
            
    use noatime, nodiratime
    
    Power directly with 3.3V ? 
        https://raspberry-projects.com/pi/pi-hardware/raspberry-pi-zero/raspberry-pi-zero-hardware-general-specifications
        
